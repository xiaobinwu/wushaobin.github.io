<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="24k-小清新个人技术博客"><meta name="keywords" content="Hexo, GulpJs, Nodejs, Reactjs, Vuejs, Javascript, 前端"><title>toolTip(用svg制作出富有动态的对话框) - 前端穷屌丝，爱码人士</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/xiaobinwu"><span>Github</span></a></li><li><a href="http://www.cnblogs.com/wuxiaobin/"><span>博客园</span></a></li><li><a href="/atom.xml"><span>RSS</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://callfiles.ueibo.com/hexo-theme-laughing/post_background.jpg"><div class="post-title"><h1 class="title">toolTip(用svg制作出富有动态的对话框)</h1><ul class="meta"><li><i class="icon icon-author"></i>24k-小清新</li><li><i class="icon icon-clock"></i>9 Minutes</li><li><i class="icon icon-calendar"></i>2015年7月31日</li></ul></div></div><div class="article-content" style="max-width:800px"><p>昨晚看了用svg如何制作富有动态的tooltip，于是今天就心血来潮学着做一下，于是也成功做出来，也明白其中的原理，收获颇多阿！接下来要多去学习svg，这是个好东西。</p>
<p>这其中也注意了一些平时纠结的细节应该怎么去做(演示：<a href="http://www.live086.cn/toolTip/)，比如：" target="_blank" rel="external">http://www.live086.cn/toolTip/)，比如：</a></p>
<p> &lt;article&gt;<br>            &lt;section id=”sound1”&gt;<br>            &lt;/section&gt;<br>            &lt;section id=”sound2”&gt;<br>            &lt;/section&gt;<br>        &lt;/article&gt;</p>
<p>article标签长度为600px,section 分别是300px，然后设置其为display:inline-block;然后是下面的效果：</p>
<p><a href="http://t.cn/RUbL4rP" target="_blank" rel="external">http://t.cn/RUbL4rP</a></p>
<p><img src="http://images0.cnblogs.com/blog2015/720690/201507/161802241415251.png" alt=""></p>
<p>本来按常理来说的话，应该是头像水平排列，这是因为display:inline-block;会将article标签和section标签之间空白渲染成空格，空格展位，所以会导致图片不在同一排，解决的办法是给article标签和section标签添加如下的css代码：</p>
<p> article{<br>                width:600px;<br>                margin:200px;<br>                <span style="background-color: #888888;">font-size:0;</span><br>              }<br>              article section{<br>                display:inline-block;<br>                width:300px;<br>                font-size:14px;<br>                position:relative;<br>              }</p>
<p>于是空白去掉了！</p>
<p>另外对于svg的web图像，我们可以对其进行修改，使其图像的样式可进行修改，它的格式大概如下（举一例子）：</p>
<div class="cnblogs_Highlighter"><br><pre class="brush:csharp;gutter:true;">&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br>&lt;!– Generator: Adobe Illustrator 17.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) –&gt;<br>&lt;!DOCTYPE svg PUBLIC “-//W3C//DTD SVG 1.1//EN” “<a href="http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&amp;gt" target="_blank" rel="external">http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&amp;gt</a>;<br>&lt;svg version=”1.1” id=”Layer_1” xmlns=”<a href="http://www.w3.org/2000/svg" target="_blank" rel="external">http://www.w3.org/2000/svg</a>“ xmlns:xlink=”<a href="http://www.w3.org/1999/xlink" target="_blank" rel="external">http://www.w3.org/1999/xlink</a>“ x=”0px” y=”0px”<br>width=”600px” height=”300px” viewBox=”0 0 600 300” enable-background=”new 0 0 600 300” xml:space=”preserve”&gt;<br>&lt;polygon points=”89.571,6.648 513.333,6.648 590.25,75.342 553.002,215.306 313.065,273.358 300,293.352 288.876,272.71<br>48.936,215.306 9.75,75.342 “/&gt;<br>&lt;/svg&gt;<br></pre><br></div>

<p>&nbsp;</p>
<p>于是我们不可能将其引入到html文件里面，如果说有很多这种svg图像，修改起来很麻烦！</p>
<p>于是使用的是ajax来加载这个图片：</p>
<p>html的dom：&lt;svg data-src=”bubble1.svg” width=”280” height=”140”&gt;&lt;/svg&gt;</p>
<p> // 问题二：对于svg图像我们要如何引入，不可能将整个svg都引入吧，不便于修改编辑<br>                 // 技巧二：使用js进行加载<br>                  $(‘svg[data-src]’).each(function(index, svg) {<br>                    var src = $(svg).data(‘src’); //data用于获取data-*属性的路径<br>                    $.ajax({<br>                        url: src,<br>                        dataType: ‘xml’,<br>                        success: function(content) {<br>                            var doc = content.documentElement;<br>                            $(doc).attr({<br>                                width: $(svg).attr(‘width’),<br>                                height: $(svg).attr(‘height’)<br>                            });<br>                            $(svg).after(doc).remove();<br>                        }<br>                    })<br>                });</p>
<p>还有对于图片的描边动画效果，这里又怎么个好的方法，只针对svg图像：</p>
<p>使用stroke-dasharray（虚线描边，可以不断尝试，使其调至适应大小，完成实现整个描边的效果）stroke-dashoffset（虚线间隔，调至整个svg没有描边的效果），然后使用transition实现这个动画</p>
<p>最终效果（如图，没有在线演示，动画效果出不来，不过下面贴的代码直接复制，再去下载两个svg图片和头像就可以使用）</p>
<p><img src="http://images0.cnblogs.com/blog2015/720690/201507/162209448919584.png" alt=""><img src="http://images0.cnblogs.com/blog2015/720690/201507/162209584383247.png" alt=""></p>
<p>代码如下：</p>
<div class="cnblogs_Highlighter"><br><pre class="brush:csharp;gutter:true;">&lt;!DOCTYPE html&gt;<br>&lt;html lang=”zh-cn”&gt;<br>&lt;head&gt;<br>&lt;title&gt;toolTip聊天对话框制作&lt;/title&gt;<br>&lt;meta charset=”utf-8”/&gt;<br>&lt;meta name=”keywords” content=”” /&gt;<br>&lt;meta name=”description” content=”” /&gt;<br>&lt;script type=”text/javascript” src=”jquery.js”&gt;&lt;/script&gt;<br>&lt;style type=”text/css”&gt;<br>h1{<br>color:red;<br>font-size:18px;<br>}<br>article{<br>width:600px;<br>margin:200px;<br>font-size:0;<br>}<br>article section{<br>/<em>问题一：对于display:inline-block;会出现两个section无法并排排列，由于使用此属性会将article与section之间的空白处渲染成空格，于是无法并排</em>/<br>/<em>技巧一： 父元素设置 font-size:0;清除空白</em>/<br>display:inline-block;<br>width:300px;<br>font-size:14px;<br>position:relative;<br>}<br>.text-center{<br>text-align:center;<br>}<br>#sound1,#sound2{<br>cursor:pointer;<br>}<br>#sound1 img,#sound2 img{<br>width:100px;<br>height:100px;<br>border-radius:100%;<br>}<br>.sound_1,.sound_2{<br>position:absolute;<br>top:-104px;<br>width:200px;<br>height:100px;<br>box-sizing: border-box;<br>opacity:1;<br>}<br>.sound_2{<br>padding:28px;<br>}<br>.sound_1{<br>padding: 25px 68px 25px 30px;<br>left: -150px;<br>top: -134px;<br>width: 280px;<br>height: 140px;<br>}<br>.sound_1 svg ,.sound_2 svg{<br>position:absolute;<br>top:0;<br>left:0;<br>}<br>.sound_1 p,.sound_2 p{<br>position:relative;<br>margin:0;<br>color:#444;<br>font-size:12px;<br>}<br>.sound_1 svg path, .sound_2 svg polygon{<br>fill:#fff;/<em>填充的颜色</em>/<br>stroke:red;/<em>描边的颜色</em>/<br>stroke-width: 6px;/<em>边的宽度</em>/<br>}<br>.sound_1 svg #path1 {<br>transform: scale(0, 0);<br>transform-origin: center;<br>opacity: 0;<br>transition-duration: .3s;<br>transition-delay: 0;<br>}<br>.sound_1 svg #path2 {<br>transform: scale(0, 0);<br>transform-origin: center;<br>opacity: 0;<br>transition-duration: .3s;<br>transition-delay: .1s;<br>}<br>.sound_1 svg #path3 {<br>transform: scale(0, 0);<br>transform-origin: center;<br>opacity: 0;<br>transition-duration: .3s;<br>transition-delay: .2s;<br>}<br>.sound_1 svg #path4 {<br>transform: scale(0, 0);<br>transform-origin: center;<br>opacity: 0;<br>transition-duration: .3s;<br>transition-delay: .25s;<br>}<br>.sound_1 p {<br>transition: .2s .35s;<br>opacity: 0;<br>transform: translate(0, -10px);<br>}<br>#sound1:hover .sound_1 svg #path1,#sound1:hover .sound_1 svg #path2,#sound1:hover .sound_1 svg #path3,#sound1:hover .sound_1 svg #path4{<br>transform: scale(1, 1);<br>opacity: 1;<br>transition-delay: 0;<br>}<br>#sound1:hover .sound_1 p{<br>opacity: 1;<br>transform: translate(0, 0);<br>}<br>/<em>问题三：对于图片的描边动画效果，这里又怎么个好的方法，只针对svg图像</em>/<br>/<em>技巧三：使用stroke-dasharray（虚线描边，可以不断尝试，使其调至适应大小，实现描边的效果）stroke-dashoffset（虚线间隔，调至整个svg没有描边的效果），然后使用transition实现这个动画 </em>/<br>.sound_2 svg polygon{<br>stroke-dasharray: 1500;<br>stroke-dashoffset: 1500;<br>fill-opacity: 0;<br>transition: .6s;<br>}<br>.sound_2 p {<br>transition: .4s;<br>transform: scale(-0.5);<br>opacity: 0;<br>transform: translate(0, -10px);<br>}<br>#sound2:hover .sound_2 svg polygon{<br>stroke-dashoffset: 0;<br>fill-opacity: 1;<br>}<br>#sound2:hover .sound_2 p {<br>transform: scale(0);<br>opacity: 1;<br>transform: translate(0, 0);<br>}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;h1&gt;toolTip聊天对话框制作&lt;/h1&gt;<br><br>&lt;article&gt;<br>&lt;section id=”sound1”&gt;<br>&lt;div class=”text-center”&gt;&lt;img src=”nan.jpg” /&gt;&lt;/div&gt;<br>&lt;p class=”text-center”&gt;韩国正太&lt;/p&gt;<br>&lt;div class=”sound_1”&gt;<br>&lt;svg data-src=”bubble1.svg” width=”280” height=”140”&gt;&lt;/svg&gt;<br>&lt;p&gt;听说优衣库的试衣间已全面升级，空间大小扩充一倍，精装修，同时四面都安有镜子，方便无死角录像呢，要去试一下不，美女！&lt;/p&gt;<br>&lt;/div&gt;<br>&lt;/section&gt;<br>&lt;section id=”sound2”&gt;<br>&lt;div class=”text-center”&gt;&lt;img src=”nv.jpg” /&gt; &lt;/div&gt;<br>&lt;p class=”text-center”&gt;优衣库美女&lt;/p&gt;<br>&lt;div class=”sound_2”&gt;<br>&lt;svg data-src=”bubble2.svg” width=”200” height=”100”&gt;&lt;/svg&gt;<br>&lt;p&gt;听起来就很刺激，那走，帅哥，准备家伙，go！&lt;/p&gt;<br>&lt;/div&gt;<br>&lt;/section&gt;<br>&lt;/article&gt;<br><br>&lt;script type=”text/javascript”&gt;<br>$(document).ready(function() {<br>// 问题二：对于svg图像我们要如何引入，不可能将整个svg都引入吧，不便于修改编辑<br>// 技巧二：使用js进行加载<br>$(‘svg[data-src]’).each(function(index, svg) {<br>var src = $(svg).data(‘src’); //data用于获取data-*属性的路径<br>$.ajax({<br>url: src,<br>dataType: ‘xml’,<br>success: function(content) {<br>var doc = content.documentElement;<br>$(doc).attr({<br>width: $(svg).attr(‘width’),<br>height: $(svg).attr(‘height’)<br>});<br>$(svg).after(doc).remove();<br>}<br>})<br>});<br>})<br>&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></pre><br></div>

<p>&nbsp;</p>
<p><span style="line-height: 1.5;">&nbsp;</span></p>
</div><div class="article-meta" style="max-width:800px"></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="cj7ju58oj000b34p255hit9a1" data-title="toolTip(用svg制作出富有动态的对话框)" data-url="http://yoursite.com/2015/07/31/toolTip-用svg制作出富有动态的对话框/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2015/07/20/swiper-制作活灵活现的微场景、微海报-一/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2015/07/31/svg编辑器是如何制作的！/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/xiaobinwu" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/u/2379094031" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="Mailto:739288994@qq.com" title="Email" target="_blank"><i class="icon icon-email"></i></a></li></ul><div class="site"><span>本站总访问量</span><span id="busuanzi_value_site_pv"></span><span>次，访客数</span><span id="busuanzi_value_site_uv"></span><span>人次</span></div></div><div class="bottom"><p class="copyright">© 2017 前端穷屌丝，爱码人士<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small></p></div></div><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>